@using GTRouteApp.Models
@namespace GTRouteApp.DetailComponents

@if (showVideoPlayer)
{
    <DetailVideoPlayer TrackName="@Name"
        Video="@selectedVideo" 
        OnBackClicked="OnBackClickedHandler" />
}
else
{
    <DetailVideoSelection TrackName="@Name" 
        Videos="@Videos"
        OnVideoItemClicked="OnVideoItemClickedHandler" />
}

@code {
    [Parameter]
    public string Name { get; set; } = "";

    [Parameter]
    public List<TrackVideo> Videos { get; set; } = new();

    private bool showVideoPlayer = false;
    private TrackVideo selectedVideo = new();

    private void OnVideoItemClickedHandler(TrackVideo video)
    {
        selectedVideo = video;

        showVideoPlayer = true;
    }

    private void OnBackClickedHandler()
    {
        showVideoPlayer = false;

        selectedVideo = new();
    }
}